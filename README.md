<h2 align="center">ChinaCarbonVis</h2>

### 项目成果
***
- CCF C论文一篇《Visual exploration of CO2 emissions in chinese cities》
- 山东省第三届数据应用创新创业大赛三等奖

### 技术栈
***
- 前端相关：React、React Router、ES6、Antd、D3.js、Echarts、Leaflet(地图JS库)
- 算法相关：pandas、flask、逐步回归、莫兰指数分类、引力熵模型、莱文斯坦距离

### 系统展示
***

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c2.png"/>

**(A) 总览视图提供各年碳排放状况的总览信息**、**(B) 社会经济因素视图呈现了所研究城市九种社会经济因素的分布状况**、**(C) 碳排放城市集群视图展现了碳排放城市群的空间分布状况**、**(D) 时变曲线视图展现了城市碳排放的时变状况**、**(E) 异质性聚类视图展现了驱动因素空间异质性状况**、**(F) 经济关系视图展现了经济关系网络**、**(G) 时变原因视图展现了九种社会经济因素的变化趋势以及各年的驱动因素列表。**

### 项目概述
***

#### 背景
- 已有的碳排放驱动因素挖掘方法所能分析的因素个数有限且挖掘过程未考虑因素间的相互影响。
- GWR模型结果的可理解性不足。
- 已有工作借助局部莫兰指数来识别高低碳排放城市群，但缺少对城市群成因的分析。
- 可视分析工具的缺乏也是一个亟待解决的问题，已有分析主要依靠Excel和SPSS等基于表的统计工具以及简单的可视化，且对计算结果的理解需要极强的专业知识，对非专业人士不友好。

#### 数据概述
本文从种类繁多的社会经济因素中选取了9个具有代表性的因素。所选数据时段为2001-2019年，且以一年为间隔，总共10年。碳排放数据来源于CEADs、社会经济数据来源于中国国家统计局和各市的统计年鉴。

| 数据项 | 描述 |
| :----: | :----: |
| CO2 | 碳排放(百万吨) |
| BUS | 每万人拥有公共汽电车(辆) |
| PD | 人口密度(人/平方公里) |
| PGS | 建成区绿化覆盖率(%) |
| FV | 货运总量(万吨) |
| PV | 客运总量(万人) |
| IS | 第二产业占GDP比重(%) |
| PCGDP | 人均GDP(元) |
| PCRA | 人均铺装道路面积(平方米) |
| PRSI | 第二产业从业人员比重(%) |

#### 本文方法

**为挖掘碳排放驱动因素，分析碳排放城市群成因。** 本文构建了如下分析框架：

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c1.png"/>

**(1) Data Pre-processing模块。** 源数据以年为时间单位，以市一级行政区划为研究对象。其中，各市碳排放数据来源于中国碳核算数据库；各市社会经济数据囊括交通、经济、人口、产业结构、能源结构、生态环境状况和运输业等方面，数据来源于各市的统计年鉴；地理信息数据为各市的空间位置矢量数据，数据来源于DataV.GeoAtlas。社会经济数据和碳排放数据具有不同的量纲，因此需要进行数据标准化处理。碳排放驱动因素挖掘算法要求输入的数据应满足无异常、符合正态分布和不具有多重共线性三个条件，因此还需要对标准化后的数据进行数据检验，将不符合条件的数据处理为符合条件的数据。由于城市群识别算法需要使用地理信息数据，因此还需要将经过检验后的数据与地理信息数据进行融合处理。

**(2) Data Analysis模块。** 在碳排放驱动因素分析中，首先通过逐步回归进行碳排放驱动因素挖掘，再通过GWR模型并结合双聚类对驱动因素异质性进行分析。在城市群分析中，首先通过莫兰指数识别碳排放城市群和驱动因素城市群，然后利用引力-熵模型构建城市间的经济联系网络，同时还通过编辑距离计算碳排放状况的年际差异。

**(3) Visualization模块。** 我们设计了一个新颖的总览图标(如下图)来帮助用户直观地理解某一年的碳排放状况。我们将碳排放驱动因素属性嵌入地图之中，以利于比较不同城市间碳排放驱动因素的相似性和差异。该可视化系统支持多视图协同交互和过滤等操作。

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c6.png"/>

### 案例分析
***

#### Case01：探索碳排放驱动因素

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c5.png"/>

专家首先在概述视图中选择2013(图(1))。概述图显示，FV、PGS、PCGDP、IS和PCRA是驱动因素。FV、PCGDP、PCRA与二氧化碳排放呈正相关，而PGS、IS与二氧化碳排放呈负相关。FV对碳排放的影响最大。因此，为了制定准确、有效的低碳减排政策，决策者应重点关注FV、PCGDP和PCRA的优化，特别是FV。

驱动因素异质性被分为4个类簇(图(2))。图(3)展现了四个类簇的空间分布状况。我们发现，虽然类簇1与2的异质性特征相近，但是FV、PCGDP和PCRA对类簇1中城市的碳排放影响更大，相反IS对类簇2中城市的碳排放影响更大。图(3)表明类簇1的城市主要集中在东北区域。类簇2中的城市主要集中在湖北、湖南、广西和广东省。通过比较类簇3和4，我们发现FV、PGS和PCRA间有显著的差异。然而，PCGDP和IS对类簇3中城市的碳排放有更大的影响。类簇3中的城市主要集中在东部沿海。类簇4中的城市主要分布在湖北、山西、山东和河南省。

紧接着，在地图中选择鹤岗、景德、保定和上海四个城市，以更详细地比较四个城市间的驱动因素。如图(4)所示，地图中的条形图分别表示FV、PCGDP、PGS、IS和PCRA。FV对鹤岗的碳排放影响很大，PCGDP和IS对景德的碳排放影响更大。因此，鹤岗应着重关顾FV，而景德的低碳政策制定者应着重关注PCGDP和IS。我们还发现，PCGDP、PGS和IS对上海的碳排放影响很大。


#### Case02：分析碳排放城市群

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c3.png"/>

图(1)显示，2013年HH碳排放城市集群分布集中。HH聚集地区主要包括京津冀和长三角地区。LL城市群分散分布，主要位于黑龙江、广州、宜昌、怀化和南昌、福建、浙江的交叉口。HL城市群主要位于武汉、合肥、南昌和长沙等地区。LH城区集群主要分布在扬州、湖州等地区。城市集群分布与我国经济格局分布相似。在经济发达的京天津和长三角地区，易产生HH城市群。相反，在工业日渐衰弱的中国东北地区存在LL城市群。碳减排的重点区域主要分布在京津冀和长三角地区。

随后，我们考察了城市间的空间分布与经济联系之间的关系。如图(2)所示，有四个经济联系紧密的地区，即A、B、C、D区。A、B区分别位于北京京津冀和长三角地区。A区和B区的分布与HH城市群的分布相同。D区和C区分别分布在黑龙江省和安徽、浙江、江西和湖北三个省之间的交叉口。LL城市集群形成于地区A和地区 B. 此外，我们发现无锡、苏州、北京和天津对A地区和地区的其他城市有较强的经济影响 B. 也就是说，这些城市对二氧化碳的排放可能比其他城市有更强的辐射效应。综上所述，二氧化碳排放城市集群在经济关系密切的地区很容易存在。

#### Case03：探究碳排放时变特征

<img src="https://raw.githubusercontent.com/xianghui-ma/staticImage/master/c4.png"/>

为了探究城市二氧化碳排放状况的时间演变及其演变的原因，专家们首先在平行坐标(图(1)和图(4))中刷选曲线。然后在地图(图(2)和图(5))中标注与平行坐标中选择的曲线对应的城市。随后，专家们选择了一个他们感兴趣的城市 (即地图上图(2)中的嘉兴和图(5)中的绍兴)，图(3)和图(6)显示了社会经济因素的变化趋势和不同年份之间的驱动因素列表。驱动因素列表中带有红色的驱动因素比带有其他颜色的驱动因素的值更高。

图(1)和图(2)表示，南通、无锡、苏州、嘉兴均属于HH城市群。也就是说，这些城市的排放水平很高。此外，我们选择嘉兴来分析为什么它一直在HH城市集群中。图(3)上部显示，2001年至2019年期间，嘉兴的社会经济因素迅速增加。此外，FV、PCGDP、PD和PCRA的值仍然较高 (图(3)较低)。因此，FV、PCGDP、PD和PCRA对嘉兴的二氧化碳排放有长期影响。从图(4)和图(5)来看，我们发现绍兴的簇类型在2003年由LH转变为HH，2003-2015年保持HH，但在2017年转变为LH。图(6)上部显示，2001-2003年，所有社会经济因素均快速增长，即绍兴经济增长迅速。此外，从2003年到2005年，FV、PV和PD值较高。2017年以后，社会经济因素的发展趋于平稳 (图(6)上部)。因此，2017年后，绍兴的二氧化碳排放量有所减少。

### 总结
***
本文设计了一个碳排放分析方法并实现了一个可视分析系统。本文借助逐步回归来筛选碳排放驱动因素；通过对GWR模型结果进行聚类来促进人们对驱动因素空间异质性的理解；借助莫兰指数识别碳排放城市群，通过引力-熵模型进一步分析碳排放城市群内各城市的经济关系；此外还对碳排放城市群的空间特征和时变状况进行了分析。最终通过对169个城市进行案例分析以及系统评估，验证了系统的有效性。